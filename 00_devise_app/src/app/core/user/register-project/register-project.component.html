<div class="back-btn" (click)="toPanel()">
    <span>Voltar ao painel de projetos</span>
</div>
<div class="container-fluid row">
    <div class="register-menu col-3">
        <div class="fases">
            <div class="fase-btn" [ngClass]="{'select': menuLateral == 0}" #1 (click)="menuLateral = 0">Projeto:
                {{projetoNovo.nome}}</div>
            <div class="fase-btn" [ngClass]="{'select': menuLateral == 1}" #2 (click)="menuLateral = 1">Necessidades
            </div>
            <div class="fase-btn" [ngClass]="{'select': menuLateral == 2}" #3 (click)="menuLateral = 2">Topografia</div>
            <div class="fase-btn" [ngClass]="{'select': menuLateral == 3}" #4 (click)="menuLateral = 3">Anteprojeto
            </div>
            <div class="fase-btn" [ngClass]="{'select': menuLateral == 4}" #5 (click)="menuLateral = 4">Projeto
                Executivo
            </div>
        </div>
        <div class="cliente-panel">
            <img src="../../../../assets/img/usersIcons/icon_01.png" alt="Cliente" class="cli-avatar">
            <h4>Nome do cliente</h4>
        </div>
        <div class="money-panel">
            <span>Orçamento estimado:</span>
            <span class="money">RS1000000</span>
        </div>

    </div>

    <div class="register-body col-9">

        <!-- 

            INICIO DOS CAMPOS DE CRIAÇÃO DO PROJETO - FASE 0

         -->
        <div class="projeto" *ngIf="menuLateral == 0">
            <h3>Crie um novo projeto</h3>
            <form (ngSubmit)="newProjeto(registerForm)" #registerForm="ngForm">
                <div class="form-container">

                    <div class="form-row">
                        <div class="form-group col-4">
                            <label for="projNome">
                                Nome do projeto
                            </label>
                            <input type="text" class="form-control outline" required name="projNome" id="projNome"
                                placeholder="Nome" [(ngModel)]="projetoNovo.nome" #projNome="ngModel">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col">
                            <label for="descNome">
                                Descrição do projeto
                            </label>
                            <textarea type="text" class="form-control outline" required name="descNome" id="descNome"
                                placeholder="Descrição do projeto" [(ngModel)]="projetoNovo.descricao"
                                #descNome="ngModel"></textarea>
                        </div>
                    </div>
                </div>

                <div class="form-container">
                    <div class="form-row">
                    </div>
                    <div class="form-row">
                        <div class="form-group col-3">
                            <label for="orcamento">Orçamento estimado</label>
                            <div class="input-group mb-2">
                                <div class="input-group-prepend">
                                    <div class="input-group-text">R$</div>
                                </div>
                                <input type="number" class="form-control outline" required name="orcamento"
                                    id="orcamento" [(ngModel)]="projetoNovo.orcamento" #orcamento>
                            </div>
                        </div>
                        <div class="form-group col-3">
                            <label for="dataOrdemServico">Data da ordem de serviço</label>
                            <input type="date" class="form-control outline" required name="dataOrdemServico"
                                id="dataOrdemServico" placeholder="Largura em metros"
                                [(ngModel)]="projetoNovo.dataOrdemServico" #dataOrdemServico>
                        </div>

                    </div>
                    <div class="form-row">


                        <div class="form-group col-3">
                            <label for="metrageX">Largura do terreno</label>
                            <input type="text" class="form-control outline" required name="metrageX" id="metrageX"
                                placeholder="Largura em metros" [(ngModel)]="projetoNovo.metragemX" #metrageX>
                        </div>
                        <div class="form-group col-3">
                            <label for="metrageZ">Comprimento do terreno</label>
                            <input type="text" class="form-control outline" required name="metrageZ" id="metrageZ"
                                placeholder="Comprimento em metros" [(ngModel)]="projetoNovo.metragemZ" #metrageZ>
                        </div>
                        <div class="col-1" *ngIf="projetoNovo.metragemX && projetoNovo.metragemZ">
                            <label for="metrage-total">Total</label>
                            <div class="mmetragem-total">
                            </div>
                            <input type="text" value="{{projetoNovo.metragemX * projetoNovo.metragemZ}}m²"
                                class="form-control">
                        </div>
                    </div>
                    <button type="submit" class="btn new-proj-btn outline">Registrar projeto</button>
                </div>
            </form>
        </div> <!-- FIM DA CRIAÇÃO DO PROJETO -->


        <!-- 

            INICIO DOS CAMPOS DE CRIAÇÃO DE NECESSIDADES - FASE 1

         -->
        <div class="necessidades" *ngIf="menuLateral == 1">
            <!-- <div class="tab-panel">
                <button class="btn tab-btns outline" [ngClass]="{'selected': nescessidade == 0}"
                    (click)="nescessidade = 0">Moradia</button>
                <button class="btn tab-btns outline" [ngClass]="{'selected': nescessidade == 1}"
                    (click)="nescessidade = 1">Parte externa</button>
                <button class="btn tab-btns outline" [ngClass]="{'selected': nescessidade == 2}"
                    (click)="nescessidade = 2">Parte interna</button>
            </div> -->

            <!-- FASE 1 MORADIA -->
            <div class="moradia">
                <h3>Dados gerais de necessidades</h3>
                <form #moradia name="moradia" id="moradia" (ngSubmit)="addMoradia(clima.value, freqUso.value)"
                    #moradia="ngForm">
                    <div class="row form-container">
                        <div class="col-12">
                            <div class="row">
                                <div class="col-12">
                                    <h5>
                                        Detalhes sobre a moradia
                                    </h5>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group col-4">
                                    <label for="clima">Informe o clima do local</label>
                                    <input type="text" class="form-control outline" required name="clima" id="clima"
                                        [(ngModel)]="fase1.clima" #clima="ngModel" placeholder="Informe o clima">

                                </div>
                                <div class="form-group col-8">
                                    <label for="freqUso">Frequência de uso dos moradores</label>
                                    <input type="text" class="form-control outline" required name="freqUso" id="freqUso"
                                        [(ngModel)]="fase1.freqUso" #freqUso="ngModel"
                                        placeholder="Frequência de uso dos moradores">
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row form-container">
                        <div class="col-12">
                            <div class="row">
                                <div class="col-12">
                                    <h5>
                                        Detalhes sobre os moradores
                                    </h5>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group col-4">
                                    <label for="pesTipo">Tipo especial de morador</label>
                                    <input type="text" class="form-control outline" required name="pesTipo" id="pesTipo"
                                        [(ngModel)]="pessoa.tipo" #pesTipo="ngModel"
                                        placeholder="Tipo especial de integrante">
                                </div>
                                <div class="form-group col-8">
                                    <label for="pesDescricao">Descrição</label>
                                    <input type="text" class="form-control outline" required name="pesDescricao"
                                        id="pesDescricao" [(ngModel)]="pessoa.descricao" #pesDescricao="ngModel"
                                        placeholder="Descrição">
                                </div>
                            </div>
                        </div>
                    </div>


                    <!-- FASE 1 - PARTE EXTERNA -->
                    <div class="row form-container">
                        <div class="col-12">
                            <div class="row">
                                <div class="col-12">
                                    <h5>
                                        Detalhes sobre a parte exterior
                                    </h5>
                                </div>
                            </div>

                            <!-- FASE 1 - lista de elementos já cadastrados -->
                            <div class="row ">
                                <div class="col-12">
                                    Lista
                                    <hr>
                                </div>
                            </div>
                            <div class="parte-externa-elem" *ngFor="let pExterno of externo">
                                <div class="row">
                                    <div class="col-12">
                                        <label for="ptExternaTipo">Tipo:</label>
                                        <input type="text" class="form-control" readonly="true" name="ptExternaTipo"
                                            id="ptExternaTipo" [(ngModel)]="pExterno.tipo" #ptExternaTipo="ngModel">
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-12">
                                        <label for="ptExternaDesc">Descrição:</label>
                                        <textarea type="text" class="form-control" readonly="true" name="ptExternaDesc"
                                            id="ptExternaDesc" [(ngModel)]="pExterno.descricao"
                                            #ptExternaDesc="ngModel"></textarea>
                                    </div>
                                </div>
                            </div>

                            <!-- FASE 1 - formularios de registro -->
                            <div class="parte-externa-form">
                                <div class="form-row">
                                    <div class="form-group col-12">
                                        <label for="ptExterna">Tipo</label>
                                        <input type="text" class="form-control outline" required name="ptExterna"
                                            id="parteptExternaExterna" [(ngModel)]="parteExterna.tipo"
                                            #ptExterna="ngModel" placeholder="Tipo">
                                    </div>

                                </div>
                                <div class="form-row">
                                    <div class="form-group col-12">
                                        <label for="descExterna">Descrição</label>
                                        <textarea type="text" class="form-control outline" required name="descExterna"
                                            id="descExterna" [(ngModel)]="parteExterna.descricao" #descExterna="ngModel"
                                            placeholder="Descrição"></textarea>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- FASE 1 - PARTE INTERNA -->
                    <div class="row form-container">
                        <div class="col-12">
                            <div class="row">
                                <div class="col-12">
                                    <h5>
                                        Detalhes sobre a parte interior
                                    </h5>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group col-12">
                                    <label for="ptInterna">Tipo de cômodo</label>
                                    <input type="text" class="form-control outline" required name="ptInterna"
                                        id="ptInterna" [(ngModel)]="parteExterna.tipo" #ptInterna="ngModel"
                                        placeholder="Tipo de cômodo">
                                </div>

                            </div>
                            <div class="form-row">
                                <div class="form-group col-12">
                                    <label for="descInterna">Descrição</label>
                                    <textarea type="text" class="form-control outline" required name="descInterna"
                                        id="descInterna" [(ngModel)]="parteInterna.descricao" #descInterna="ngModel"
                                        placeholder="Descrição"></textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                    <button type="submit" class="btn new-proj-btn outline">Registrar necessidades</button>
                </form>
            </div>
        </div> <!-- FIM DE NECESSIDADES -->

        <!-- 

            INICIO DOS CAMPOS DE CRIAÇÃO DE DADOS TOPOGRÁFICO - FASE 2

         -->
        <div class="topografia" *ngIf="menuLateral == 2">

            <div class="tab-panel">
                <button class="btn tab-btns outline" [ngClass]="{'selected ': topografia == 0}"
                    (click)="topografia = 0">Dados topográficos</button>
                <button class="btn tab-btns outline" [ngClass]="{'selected ': topografia == 1}"
                    (click)="topografia = 1">Estruturas existentes</button>
            </div>

            <!-- FASE 2 - DADOS TOPOGRÁFICOS -->
            <div class="dados-topograficos" *ngIf="topografia == 0">
                <form #dadosTopograficos name="dadosTopograficos" id="dadosTopograficos">
                    <div class="detalhes-panel">
                        <div class="detalhes-h">
                            <h5>Informa os dados topográficos</h5>
                        </div>

                        <div class="detalhes-body">
                            <div class="d-header row">
                                <span class="col-3">Tipo</span>
                                <span class="col-5">Descrição</span>
                            </div>

                            <div class="detalhes-items row">
                                <div class="form-group col-3">
                                    <select type="text" class="form-control outline" required name="tipoIntegrante"
                                        id="tipoIntegrante" #tipoIntegrante>
                                        <option value="Coordenadas">Coordenadas</option>
                                        <option value="Relevo">Relevo</option>
                                        <option value="CurvasDeNiveis">Curvas de níveil</option>
                                        <option value="PerfilLongitudinal">Perfil longitudinal</option>
                                        <option value="SecoesTransversais">Seções transversais</option>
                                        <option value="AcidentesGeograficos">Acidentes gergráfi</option>
                                    </select>
                                </div>
                                <div class="form-group col-7">
                                    <input type="text" class="form-control outline" placeholder="Descrição" required
                                        name="descricaoIntegrante" id="descricaoIntegrante" #descricaoIntegrante>
                                </div>
                                <div class="col-2">
                                    <button class="btn del-integrante outline" title="Remover Item">X</button>
                                </div>
                                <button type="submit" class="btn new-proj-btn outline">Registrar</button>

                            </div>
                        </div>
                    </div>
                </form>
            </div>

            <!-- FASE 2 - ESTRUTURAS EXISTENTES -->
            <div class="estruturas-existentes" *ngIf="topografia == 1">
                <form #estruturasExistentes name="estruturasExistentes">
                    <div class="detalhes-panel">
                        <div class="detalhes-h">
                            <h5>Estruturas existentes no local</h5>
                            <!-- 
                            <button class="btn add-integrante outline">Adicionar detalhe</button> -->
                        </div>

                        <div class="detalhes-body">
                            <div class="d-header row">
                                <span class="col-3">Tipo</span>
                                <span class="col-5">Descrição</span>
                            </div>

                            <div class="detalhes-items row">
                                <div class="form-group col-3">
                                    <select type="text" class="form-control outline" required name="tipoIntegrante"
                                        id="tipoIntegrante" #tipoIntegrante>
                                        <option value="Muro">Muro</option>
                                        <option value="Poço">Poço</option>
                                        <option value="Arvore">Árvore</option>
                                        <option value="Calcada">Calçada</option>
                                        <option value="Estrada">Estrada</option>
                                        <option value="Ruinas">Ruínas</option>
                                        <option value="Monumentos">Monumentos</option>
                                        <option value="Ruinas">Ruínas</option>
                                        <option value="Ruinas">Ruínas</option>
                                    </select>
                                </div>
                                <div class="form-group col-7">
                                    <input type="text" class="form-control outline" placeholder="Descrição" required
                                        name="descricaoIntegrante" id="descricaoIntegrante" #descricaoIntegrante>
                                </div>
                                <div class="col-2">
                                    <button class="btn del-integrante outline" title="Remover Item">X</button>
                                </div>
                                <button type="submit" class="btn new-proj-btn outline">Registrar</button>

                            </div>
                        </div>
                    </div>
                </form>
            </div><!-- FIM DE DADOS TOPOGRÁFICOS -->
        </div>
    </div>